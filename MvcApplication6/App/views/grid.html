
<section>

    <script id="nodeTmpl" type="text/html">
        <div class="star-rating" data-bind="attr: { id: 'tree_IDT' + IDT() }" style="padding-left:10px;">
            <div>
                <span style="width:17px" data-bind="visible: PostojeDjeca()">
                    <img data-bind="attr: {src: Ikona()}, click: function(){Toggle()}" style="width:13px" />
                </span>
                <span style="width:17px" data-bind="visible: !PostojeDjeca()">
                    <span style="display: inline-block; width:13px">&nbsp;</span>
                </span>
                <span class="treeItem">
                    <span style="cursor:pointer;" data-bind="css: { currentItemTreeView: IsCurrent()}, text: Pojam(), click: function () { $root.currentIDT(IDT()); }"></span>
                </span>
            </div>
            <div data-bind="visible: Rasireno()">
                <div style="padding-bottom:5px" data-bind="template: { name: 'nodeTmpl', foreach: Djeca }, visible: PostojeDjeca()"></div>
            </div>
        </div>
    </script>

    <table class="table borderless">
        <colgroup>
            <col style="width:20%">
            <col style="width:80%">
        </colgroup>
        <tbody>
            <tr>
                <td style="padding-left:15px">
                    <span class="labelopis">Tablica</span>
                    <select class="form-control" data-bind="options: $root.tables, value: $root.currentTable, optionsValue:'Name', optionsText:'DisplayName', event: { change: $root.changeTable }"></select>
                </td>
                <td style="position:relative">
                    <div class="container">
                        <table style="width:100%" cellpadding="0" cellspacing="0">
                            <tr>
                                <td>
                                    <div class="panel panel-default filterable">
                                        <div class="panel-heading">
                                            <h3 class="panel-title text-center">Pojmovi</h3>
                                            <div class="pull-left" style="margin-top: -15px;'">
                                                <button class="btn btn-default btn-xs btn-filter" data-bind="click: function(){ $root.btnFilterClick();}"><span class="glyphicon glyphicon-filter"></span>Pretraživanje</button>
                                            </div>
                                        </div>
                                        <table class="table table-striped table-hover table-condensed table-bordered" style="table-layout: fixed">
                                            <colgroup>
                                                <col style="width: 120px">
                                                <col style="width: 120px">
                                                <col style="width: 120px">
                                                <col style="width: 150px">
                                                <col style="width: 60px">
                                                <col style="width: 100px">
                                            </colgroup>
                                            <thead>
                                                <tr class="filters">
                                                    <th style="text-align: center">
                                                        <a href="#" data-bind="click: function(){ $root.currentOrderByColumn('Pojam');}">Pojam</a>
                                                        <input type="text" class="form-control" style="display: none" data-bind="textInput:$root.filter().Pojam" />
                                                    </th>
                                                    <th style="text-align: center">
                                                        <a href="#" data-bind="click: function(){ $root.currentOrderByColumn('PreporuceniPojam');}">Preporučeni pojam</a>
                                                        <input type="text" class="form-control" style="display: none" data-bind="textInput:$root.filter().PreporuceniPojam" />
                                                    </th>
                                                    <th style="text-align: center">
                                                        <a href="#" data-bind="click: function(){ $root.currentOrderByColumn('NadPojam');}">Nadređeni pojam</a>
                                                        <input type="text" class="form-control" style="display: none" data-bind="textInput:$root.filter().NadPojam" />
                                                    </th>
                                                    <th style="text-align: center">
                                                        <a href="#" data-bind="click: function(){ $root.currentOrderByColumn('Napomena');}">Napomena</a>
                                                        <input type="text" class="form-control" style="display: none" data-bind="textInput:$root.filter().Napomena" />
                                                    </th>
                                                    <th style="text-align: center">
                                                        <a href="#" data-bind="click: function(){ $root.currentOrderByColumn('Ucestalost');}">Učestalost</a>
                                                        <input type="text" class="form-control" style="display: none" data-bind="textInput:$root.filter().Ucestalost" />
                                                    </th>
                                                    <th style="text-align: center">
                                                        <a href="#" data-bind="click: function(){ $root.currentOrderByColumn('Odgovornost');}">Odgovornost</a>
                                                        <input type="text" class="form-control" style="display: none" data-bind="textInput:$root.filter().Odgovornost" />
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                </td>
                                <td style="width:17px"></td>
                            </tr>
                        </table>
                    </div>
                    <div class="container" id="divScroll" style="max-height:250px;overflow-x:hidden;overflow-y:scroll;">
                        <table class="table table-hover table-condensed table-bordered" style="table-layout:fixed">
                            <colgroup>
                                <col style="width:120px">
                                <col style="width:120px">
                                <col style="width:120px">
                                <col style="width:150px">
                                <col style="width:60px">
                                <col style="width:100px">
                            </colgroup>

                            <tbody data-bind="foreach: $root.tableView">
                                <tr data-bind="css: {currentItemTable : IsCurrent()}">
                                    <td style="cursor:pointer;" data-bind="text: Pojam(), click: function () { $root.currentIDT(IDT());}, attr: { id:'table_IDT' + IDT() }"></td>
                                    <td style="cursor: pointer;" data-bind="text: PreporuceniPojam(), click: function () { $root.currentIDT(IDT());}, attr: { id:'table_IDT' + IDT() }"></td>
                                    <td style="cursor: pointer;" data-bind="text: NadPojam(), click: function () { $root.currentIDT(IDT());}, attr: { id:'table_IDT' + IDT() }"></td>
                                    <td style="cursor:pointer;" data-bind="text: Napomena(), click: function () { $root.currentIDT(IDT());}, attr: { id:'table_IDT' + IDT() }"></td>
                                    <td style="cursor:pointer; text-align:right" data-bind="text: Ucestalost(), click: function () { $root.currentIDT(IDT());}, attr: { id:'table_IDT' + IDT() }"></td>
                                    <td style="cursor:pointer; word-wrap:break-word" data-bind="text: Odgovornost(), click: function () { $root.currentIDT(IDT());}, attr: { id:'table_IDT' + IDT() }"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="container" style="margin-top:20px; text-align:center;">
                        <table cellpadding="0" cellspacing="0" class="table borderless" >
                            <tr>
                                <td>
                                    <button class="btn" data-bind="click:createNew">Novi</button>
                                </td>
                                <td style="width:100%;text-align:center;">
                                    <span data-bind="with:paging, visible: paging().IsVisible()">
                                        <input type="button" class="btn" data-bind="click: function(){ChangeCurrentPageNumber('Prethodna');}" value="Prethodna" />
                                        <input type="button" class="btn" data-bind="click: function(){ChangeCurrentPageNumber('Sljedeća');}" value="Sljedeća" />
                                        <span data-bind="text: FromNumber()" style="margin-left:100px"></span>
                                        -
                                        <span data-bind="text: ToNumber()"></span>
                                        od ukupno
                                        <span data-bind="text: TotalNumber()"></span>

                                        <span style="margin-left:100px">Veličina stranice </span>
                                        <select data-bind="options: AvailableItemsPerPage, value: ItemsPerPage, optionsValue:'value', optionsText:'value'" style="margin-left:10px;"></select>
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </td>
            </tr>
            <tr>
                <td rowspan="3">
                    <div id="treeScroll" style="position:absolute;bottom:0;top:100px; left: -20px; width:350px;overflow-x:hidden;overflow-y:scroll;">
                        <table class="table">
                            <tr>
                                <td style="border-top-width:0px">
                                    <div id="nav-bar">
                                        <ul data-bind="template: { name: 'nodeTmpl', foreach: $root.rootTreeViewItem().Djeca() }"></ul>
                                    </div>

                                </td>
                            </tr>

                        </table>
                    </div>
                </td>


                <td></td>
            </tr>

            <tr>
                <td style="position:relative">
                    <div class="container" data-bind="with: currentItem">
                        <table style="width:100%" cellpadding="0" cellspacing="0">
                            <tr>
                                <td>
                                    <div class="panel panel-default filterable">
                                        <div class="panel-heading">
                                            <h3 class="panel-title text-center">
                                                <span data-bind="text:$root.currentAction"></span>
                                            </h3>
                                        </div>
                                        <table class="table borderless" style="table-layout: fixed">
                                            <colgroup>
                                                <col style="width: 120px">
                                                <col style="width: 120px">
                                                <col style="width: 120px">
                                                <col style="width: 150px">
                                                <col style="width: 60px">
                                                <col style="width: 100px">
                                            </colgroup>

                                            <tbody>
                                                <tr>
                                                    <td style="vertical-align: top">
                                                        <span class="labelopis">Pojam</span>
                                                        <input class="form-control" data-bind="textInput: Pojam" />

                                                    </td>
                                                    <td>
                                                        <span class="labelopis">Preporučeni pojam</span>
                                                        <input class="form-control" id="Text24" data-bind="value:$root.tekstPreporuceniPojam, valueUpdate:['afterkeydown','propertychange','input'], jqAutoUpitTerm: { autoFocus: true },
                                                    jqAutoSource: $root.stavkePreporuceniPojam,
                                                    jqAutoValue: Preporuceni_IDT,
                                                    jqAutoSourceLabel: 'Pojam',
                                                    jqAutoSourceInputValue: 'Pojam',
                                                    jqAutoSourceValue: 'IDT' " />
                                                    </td>
                                                    <td style="vertical-align: top">
                                                        <span class="labelopis">Nadređeni pojmovi</span>
                                                        <div data-bind="foreach: NadPojmovi().slice(1, NadPojmovi().length), visible: NadPojmovi().length>1">
                                                            <input class="form-control" data-bind="value: Pojam" readonly="readonly" />
                                                        </div>
                                                        <input class="form-control" id="Text24" data-bind="value:$root.tekstNadredeniPojam, valueUpdate:['afterkeydown','propertychange','input'], jqAutoUpitTerm: { autoFocus: true },
                                            jqAutoSource: $root.stavkeNadredeniPojam,
                                            jqAutoValue: Nad_IDT,
                                            jqAutoSourceLabel: 'Pojam',
                                            jqAutoSourceInputValue: 'Pojam',
                                            jqAutoSourceValue: 'IDT' " />

                                                    </td>
                                                    <td style="vertical-align: top">
                                                        <span class="labelopis">Napomena</span>
                                                        <textarea rows="1" class="form-control" data-bind="textInput: Napomena" />
                                                    </td>
                                                    <td style="vertical-align: top">
                                                        <span class="labelopis">Učestalost</span>
                                                        <input type="text" class="form-control" readonly data-bind="textInput: Ucestalost" />
                                                    </td>
                                                    <td style="vertical-align: top">
                                                        <span class="labelopis">Odgovornost</span>
                                                        <input type="text" class="form-control" readonly data-bind="textInput: Odgovornost" />
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td rowspan="2">
                                                        <table class="table table-bordered">
                                                            <thead>
                                                                <tr>
                                                                    <th style="text-align: center"><a>Povezani pojmovi</a></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr><td>apliciranje fajanse</td></tr>
                                                                <tr><td>cizeliranje</td></tr>
                                                                <tr><td>pozlata</td></tr>
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                    <td rowspan="2">
                                                        <table class="table table-bordered">
                                                            <thead>
                                                                <tr>
                                                                    <th style="text-align: center"><a>Prijevodi</a></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr><td>apliciranje fajanse</td></tr>
                                                                <tr><td>cizeliranje</td></tr>
                                                                <tr><td>pozlata</td></tr>
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                    <td></td>
                                                    <td>
                                                        <span class="labelopis">Bilješke</span>
                                                        <textarea rows="2" class="form-control" data-bind="textInput: Biljeske" />
                                                    </td>
                                                    <td colspan="2">
                                                        <span class="labelopis">Reference</span>
                                                        <textarea rows="2" class="form-control" data-bind="textInput: Reference" />
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td style="vertical-align: top">
                                                        <button style="margin-left: 18px" class=" btn btn-primary" data-bind="click:$root.saveLocal">Spremi</button>
                                                        <button style="margin-left: 20px" class="btn" data-bind="click:$root.deleteCurrentItem">Briši</button>
                                                    </td>
                                                    <td style="vertical-align: top">
                                                        <button style="margin-left: 18px" class="btn">Alati...</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </td>
                                <td style="width:17px"></td>
                            </tr>
                        </table>
                    </div>
                </td>
            </tr>

        </tbody>
    </table>

</section>