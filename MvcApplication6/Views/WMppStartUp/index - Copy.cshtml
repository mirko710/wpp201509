@using System.Web
@using System.Web.Optimization
<!DOCTYPE html>
<html>
<head>
    <title>M++</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    @Styles.Render("~/Content/css")
    <script type="text/javascript">
        if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
            var msViewportStyle = document.createElement("style");
            var mq = "@@-ms-viewport{width:auto!important}";
            msViewportStyle.appendChild(document.createTextNode(mq));
            document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
        }
    </script>
</head>
<body>

    <script type="text/html" id="tmpNazivi">
        <div class="row datalabelrow">
            <div class="col-lg-10">Naziv</div>
            <div class="col-lg-2">Vrsta naziva</div>
        </div>
        <div id="Nazivi" data-bind="foreach: $root.selNazivi">
        <div class="row datarow" data-bind="click: function () { $root.setSelected($index(), $parentContext.$index()); }, visible: $root.subformRowVisible($index(), $parentContext.$index())">
            <div class="col-lg-10">
                <input class="form-control" id="Text2" data-bind="jqAuto: { autoFocus: true },
                jqAutoSource: $root.Selects.Nazivi,
                jqTerm: $root.dodajTerm,
                jqTermTablica: $root.dodajTermTablica,
                jqTablica: 'tbl_T_Nazivi',
                jqModul: 'Nazivi',
                jqAutoValue: NAZ_IDT_Naziv_predmeta,
                jqAutoSourceLabel: 'Pojam',
                jqAutoSourceInputValue: 'Pojam',
                jqAutoSourceValue: 'IDT' " />
            </div>
            <div class="col-lg-2 styled-select">
                <div><select class="form-control form-control2" data-bind="options: $root.Selects.Vrste_naziva, optionsText: 'Pojam', optionsValue: 'IDT', value: NAZ_IDT_Vrsta_naziva"></select></div>
            </div>
        </div>
        
    </div>
</script>
    <script type="text/html" id="tmpNaslovi">
            <div class="row datalabelrow">
                <div class="col-lg-6">Naslov</div>
                <div class="col-lg-3">Vrsta naslova</div>
                <div class="col-lg-3">Jezik naslova</div>
            </div>
            <div id="Naslovi" data-bind="foreach: $root.selNaslovi">
                <div class="row datarow" data-bind="attr: { id: 'tbl_Naslovi_' + ID() }, click: function () { $root.setSelected($index(), $parentContext.$index()); }, visible: $root.subformRowVisible($index(), $parentContext.$index())">
                    <div class="col-lg-6">
                        <input id="inputNaslov" type="text" class="form-control" data-bind="value: NSL_Naslov" />
                    </div>
                    <div class="col-lg-3 styled-select">
                        <div><select id="selectVrstaNaslova" class="form-control form-control2" data-bind="options: $root.Selects.Vrste_naslova, optionsText: 'Pojam', optionsValue: 'IDT', value: NSL_IDT_Vrsta_naslova"></select></div>
                    </div>
                    <div class="col-lg-3 styled-select">
                        <div><select id="selectJezik" class="form-control form-control2" data-bind="options: $root.Selects.Jezici, optionsText: 'Pojam', optionsValue: 'IDT', value: NSL_IDT_Jezik_naslova"></select></div>
                    </div>
                    </div>
                </div>
    </script>
    <script type="text/html" id="tmpMjere">
        <div class="row datalabelrow">
            <div class="col-lg-3">Dimenzija</div>
            <div class="col-lg-2">Mjera</div>
            <div class="col-lg-3">Jedinica</div>
            <div class="col-lg-4">Dio</div>
        </div>
        <div id="Mjere" data-bind="foreach: $root.selMjere">
            <div class="row datarow" data-bind="click: function () { $root.setSelected($index(), $parentContext.$index()); }, visible: $root.subformRowVisible($index(), $parentContext.$index())">
                <div class="col-lg-3 styled-select">
                    <div><select class="form-control form-control2" data-bind="options: $root.Selects.Dimenzije, optionsText: 'Pojam', optionsValue: 'IDT', value: MJR_IDT_Dimenzija, optionsCaption: 'Please select...'"></select></div>
                </div>
                <div class="col-lg-2">
                    <input class="form-control form-control-text-right" type="text" data-bind="value: MJR_Mjera" />
                </div>
                <div class="col-lg-3 styled-select">
                    <div><select class="form-control form-control2" data-bind="options: $root.Selects.Jedinice, optionsText: 'Pojam', optionsValue: 'IDT', value: MJR_IDT_Jedinica_mjere, optionsCaption: 'Please select...'"></select></div>
                </div>
                <div class="col-lg-4 styled-select">
                    <div><select class="form-control form-control2" data-bind="options: $root.Selects.Dijelovi, optionsText: 'Pojam', optionsValue: 'IDT', value: MJR_IDT_Mjereni_dio, optionsCaption: 'Please select...'"></select></div>
                </div>
            </div>
        </div>
    </script>
    <script type="text/html" id="tmpMaterijali">
        <div class="row datalabelrow">
            <div class="col-lg-4">Materijal</div>
            <div class="col-lg-4">Tehnika</div>
            <div class="col-lg-4">Dio</div>
        </div>
        <div id="Materijali" data-bind="foreach: $root.selMat">
            <div class="row datarow" data-bind="click: function () { $root.setSelected($index(), $parentContext.$index()); }, visible: $root.subformRowVisible($index(), $parentContext.$index())">
                <div class="col-lg-4">
                    <input class="form-control" id="filter" data-bind="jqAuto: { autoFocus: true },
                    jqAutoSource: $root.selectMaterijali,
                    jqTerm: $root.dodajTerm,
                    jqTermTablica: $root.dodajTermTablica,
                    jqTablica: 'tbl_T_Materijali',
                    jqModul: 'Materijali',
                    jqAutoValue: U_IDT_Materijal,
                    jqAutoSourceLabel: 'Pojam',
                    jqAutoSourceInputValue: 'Pojam',
                    jqAutoSourceValue: 'IDT' " />
                </div>
                <div class="col-lg-4">
                    <input class="form-control" id="Text1" data-bind="jqAuto: { autoFocus: true },
                    jqAutoSource: $root.Selects.Tehnike,
                    jqTerm: $root.dodajTerm,
                    jqTermTablica: $root.dodajTermTablica,
                    jqTablica: 'tbl_T_Tehnike',
                    jqModul: 'Tehnike',
                    jqAutoValue: U_IDT_Tehnika,
                    jqAutoSourceLabel: 'Pojam',
                    jqAutoSourceInputValue: 'Pojam',
                    jqAutoSourceValue: 'IDT' " />
                </div>
                <div class="col-lg-4 styled-select">
                    <div><select class="form-control form-control2" data-bind="options: $root.Selects.Dijelovi, optionsText: 'Pojam', optionsValue: 'IDT', value: U_IDT_Dio_predmeta"></select></div>
                </div>
            </div>
        </div>
    </script>

    <script type="text/html" id="tmpIzrada">
        <div id="Izrada" data-bind="foreach: $root.selIzrada">
            <div class="IzradaRow">
                <div class="row datalabelrow">
                <div class="col-lg-4">Vrsta autorstva</div>
                <div class="col-lg-4">Autor</div>
                <div class="col-lg-4">Uloga autora</div>
            </div>
                <div class="row datarow" data-bind="attr: { id: 'tbl_Izrada_' + ID() }, click: function () { $root.setSelected($index(), $parentContext.$index()); }, visible: $root.subformRowVisible($index(), $parentContext.$index())">
                    <div class="col-lg-4 styled-select">
                        <div><select class="form-control form-control2" data-bind="options: $root.Selects.Vrste_odgovornosti, optionsText: 'Pojam', optionsValue: 'IDT', value: IZR_IDT_Vrsta_odgovornosti, optionsCaption: 'Please select...'"></select></div>
                    </div>
                    <div class="col-lg-4">
                        <input class="form-control"  data-bind="attr: { id: 'selectAutor_' + ID() },jqAuto: { autoFocus: true },
                        jqAutoSource: $root.Selects.Autori,
                        jqTerm: $root.dodajTerm,
                        jqTermTablica: $root.dodajTermTablica,
                        jqTablica: 'tbl_T_Autori',
                        jqModul: 'Autori',
                        jqAutoValue: IZR_ID_Autor,
                        jqAutoSourceLabel: 'Prezime',
                        jqAutoSourceInputValue: 'Prezime',
                        jqAutoSourceValue: 'ID' " />
                    </div>
                    <div class="col-lg-4 styled-select">
                        <div><select class="form-control form-control2" data-bind="attr: { id: 'selectUloga_' + ID() },options: $root.Selects.Uloge_autora, optionsText: 'Pojam', optionsValue: 'IDT', value: IZR_IDT_Uloga, optionsCaption: 'Please select...'"></select></div>
                    </div>
                </div>
                <div class="row datalabelrow datalabelrow-izrada">
                    <div class="col-lg-8">Vrijeme izrade</div>
                    <div class="col-lg-4">Mjesto izrade</div>
                </div>
                <div class="row datarow" data-bind="attr: { id: 'tbl_Izrada_' + ID() }, click: function () { $root.setSelected($index(), $parentContext.$index()); }, visible: $root.subformRowVisible($index(), $parentContext.$index())">
                    <div class="col-lg-8">
                        <div class="row">
                       <div class="col-lg-3 styled-select">
                           <div><select class="form-control form-control2" data-bind="attr: { id: 'komboPeriod_' + ID() },options: $root.Vremena, optionsText: 'tekst', optionsValue: 'vrijednost', value: IZR_Period"></select></div>
                       </div>

                       <div class="col-lg-2 styled-select">
                           <div><select  class="form-control form-control2" data-bind="attr: { id: 'komboVrijemeopis_' + ID() },options: $root.VrijemeOpis, value: IZR_Vrijeme_opis, optionsCaption: '...'"></select></div>
                       </div>

                       <div class="col-lg-5">
                           <input class="form-control form-control-text-right" data-bind="attr: { id: 'inputVrijeme_' + ID() },value: IZR_Vrijeme_vrijednost" />
                       </div>

                       <div class="col-lg-2 styled-select">
                           <div><select class="form-control form-control2" data-bind="attr: { id: 'komboVrijemeJedinica_' + ID() },options: $root.VrijemeJedinica, value: IZR_Vrijeme_jedinica, optionsCaption: '...'"></select></div>
                       </div>
                   </div>
                   <div class="row" data-bind="visible: IZR_Period">
                       <div class="col-lg-3 styled-select2">
                           <div><span class="form-control-select">Vrijeme do:</span></div>
                       </div>

                       <div class="col-lg-2 styled-select">
                           <div><select class="form-control form-control2" data-bind="attr: { id: 'komboVrijemeOpis2_' + ID() },options: $root.VrijemeOpis, value: IZR_Vrijeme_opis2, optionsCaption: '...'"></select></div>
                       </div>

                       <div class="col-lg-5">
                           <input class="form-control form-control-text-right" data-bind="attr: { id: 'inputVrijeme2_' + ID() },value: IZR_Vrijeme_vrijednost2" />
                       </div>

                       <div class="col-lg-2 styled-select">
                           <div><select  class="form-control form-control2" data-bind="attr: { id: 'komboVrijemeJedinica2_' + ID() },options: $root.VrijemeJedinica, value: IZR_Vrijeme_jedinica2, optionsCaption: '...'"></select></div>
                       </div>
                   </div>
                    </div>
                    <div class="col-lg-4">
                        <input class="form-control" data-bind="attr: { id: 'inputMjesto_' + ID() },jqAuto: { autoFocus: true },
                        jqAutoSource: $root.Selects.Mjesta,
                        jqTerm: $root.dodajTerm,
                        jqTermTablica: $root.dodajTermTablica,
                        jqTablica: 'tbl_T_Mjesta',
                        jqModul: 'Mjesta',
                        jqAutoValue: IZR_IDT_Mjesto,
                        jqAutoSourceLabel: 'Pojam',
                        jqAutoSourceInputValue: 'Pojam',
                        jqAutoSourceValue: 'IDT' " />
                    </div>
                </div>
            </div>
        </div>
    </script>

    <script type="text/html" id="tmpMedia">
        <div data-bind="foreach: $root.selMmedia">
            <div class="cotainer" data-bind="attr: { id: 'tbl_Media_Collector_' + AutoBroj() }, click: function () { $root.setSelected($index(), $parentContext.$index()); }, visible: $root.subformRowVisible($index(), $parentContext.$index()), style: { border: $root.subformRowBorder($index(), $parentContext.$index()), backgroundColor: $root.subformRowBackColor($index(), $parentContext.$index()) }">
                <div class="row" >
                    <div class="col-xs-3">
                        <img class="img-thumbnail" height="125" width="125" data-bind="attr: { src: $root.stazaSlike($data.MC_Staza_slike) }" />
                    </div>
                    <div class="col-xs-9">
                        <!--<label for="chkNewIdentity" class="control-label">Identifikacijska:</label><input type="checkbox" id="chkNewIdentity" style="width:75px" class="form-control" data-bind="checked: MC_Identity, click:  $root.fauxyFunky "/>-->
                        <label for="chkNewIdentity" class="control-label">Identifikacijska:</label><select id="chkNewIdentity" style="width:75px" class="form-control" data-bind="options: $root.daNeUmjestoCheck, optionsText: 'tekst', optionsValue: 'vrijednost', value: MC_Identity,event: {change : $root.promjenaIdentity}"></select>
                        <label for="inputReverse"  class="control-label">Revers:</label><select id="inputRevers" style="width:75px" class="form-control" data-bind="options: $root.daNeUmjestoCheck, optionsText: 'tekst', optionsValue: 'vrijednost', value: MC_rv"></select>
                        <label for="inputWeb" class="control-label">Web:</label><select id="inputWeb" style="width:75px"  class="form-control" data-bind="options: $root.daNeUmjestoCheck, optionsText: 'tekst', optionsValue: 'vrijednost', value: MC_Web"></select>
                        <!--<label for="inputSub" class="control-label">Sub:</label><input id="inputSub" style="width:75px"  class="form-control" data-bind="value: ID_Sub_Broj"/>-->
                    </div>
                </div>


            </div>
        </div>
    </script>
    <script type="text/html" id="tmpMedia2">
        <div data-bind="foreach: $root.selMmedia">
            <div class="cotainer" data-bind="attr: { id: 'tbl_Media_Collector_' + AutoBroj() }, visible:MC_Identity">
                <div class="row">
                    <div class="col-lg-12">
                        <img class="img-thumbnail" data-bind="attr: { src: $root.stazaSlike($data.MC_Staza_slike) }, click: function (data, event) { $root.postaviFokusUDF('tmpMedia'); }" />
                    </div>
                </div>
            </div>
        </div>
    </script>
    




















    <script type="text/html" id="smlNazivi">
    <input class="form-control" id="Text92" data-bind="jqAuto: { autoFocus: true },
    jqAutoSource: $root.Selects.Nazivi,
    jqTerm: $root.dodajTerm,
    jqTermTablica: $root.dodajTermTablica,
    jqTablica: 'tbl_T_Nazivi',
    jqModul: 'Nazivi',
    jqAutoValue: NAZ_IDT_Naziv_predmeta,
    jqAutoSourceLabel: 'Pojam',
    jqAutoSourceInputValue: 'Pojam',
    jqAutoSourceValue: 'IDT' " />
    <select class="form-control" data-bind="options: $root.Selects.Vrste_naziva, optionsText: 'Pojam', optionsValue: 'IDT', value: NAZ_IDT_Vrsta_naziva"></select>
    </script>
    <script type="text/html" id="smlMaterijali">

              <div class="row">
            <div class="col-xs-3">
                <label for="inputMaterijals" class="control-label">Materijal:</label>
            </div>
            <div class="col-xs-9">
                                          <input class="form-control" id="inputMaterijals" data-bind="jqAuto: { autoFocus: true },
    jqAutoSource: $root.Selects.Materijali,
    //jqAutoSource: $root.selectMaterijali,
    //jqAutoQuery: $root.filterQuery, 
    jqTerm: $root.dodajTerm,
    jqTermTablica: $root.dodajTermTablica,
    jqTablica: null,
    jqModul: 'Materijali',
    jqAutoValue: U_IDT_Materijal,
    jqAutoSourceLabel: 'Pojam',
    jqAutoSourceInputValue: 'Pojam',
    jqAutoSourceValue: 'IDT' " />
            </div>
        </div>
        <div class="row">
            <div class="col-xs-5">
                <label for="inputTehnikas" class="control-label">Tehnika:</label>
            </div>
            <div class="col-xs-7">
                                           <input class="form-control" id="inputTehnikas" data-bind="jqAuto: { autoFocus: true },

    jqAutoSource: $root.Selects.Tehnike,
    //jqAutoQuery: $root.filterQuery, 
    jqTerm: $root.dodajTerm,
    jqTermTablica: $root.dodajTermTablica,
    jqTablica: null,
    jqModul: 'Tehnike',
    jqAutoValue: U_IDT_Tehnika,
    jqAutoSourceLabel: 'Pojam',
    jqAutoSourceInputValue: 'Pojam',
    jqAutoSourceValue: 'IDT' " />
            </div>
        </div>
        <div class="row">
            <div class="col-xs-5">
                <label for="selectDios" class="control-label">Dio:</label>
            </div>
            <div class="col-xs-7">
                        <select id="selectDios" class="form-control" data-bind="options: $root.Selects.Dijelovi, optionsText: 'Pojam', optionsValue: 'IDT', value: U_IDT_Dio_predmeta">
                            </select>            </div>
        </div>
 




    </script>
    <script type="text/html" id="smlIzrada">
               <div class="row">
                   <div class="col-xs-3">
                       <select class="form-control" data-bind="options: $root.Selects.Vrste_odgovornosti, optionsText: 'Pojam', optionsValue: 'IDT', value: IZR_IDT_Vrsta_odgovornosti, optionsCaption: 'Please select...'">
                       </select>
                   </div>
                   <div class="col-xs-9">
                       <input class="form-control" id="sText3" data-bind="jqAuto: { autoFocus: true },
                        jqAutoSource: $root.Selects.Autori,
                        jqTerm: $root.dodajTerm,
                        jqTermTablica: $root.dodajTermTablica,
                        jqTablica: null,
                        jqModul: 'Autori',
                        //jqAutoQuery: $root.filterQuery, 
                        jqAutoValue: IZR_ID_Autor,
                        jqAutoSourceLabel: 'Prezime',
                        jqAutoSourceInputValue: 'Prezime',
                        jqAutoSourceValue: 'ID' " />
                   </div>
               </div>
               <div class="row">
                   <div class="col-xs-3">
                       <label for="tselectUloga" class="control-label">Uloga:</label>
                   </div>

                   <div class="col-xs-9">
                       <select id="tselectUloga" class="form-control" data-bind="options: $root.Selects.Uloge_autora, optionsText: 'Pojam', optionsValue: 'IDT', value: IZR_IDT_Uloga, optionsCaption: 'Please select...'"></select>
                   </div>
               </div>
               <div class="row">
                   <div class="col-xs-3">
                       <label for="tinputMjesto" class="control-label">Mjesto:</label>
                   </div>

                   <div class="col-xs-9">
                       <input class="form-control" id="tinputMjesto" data-bind="jqAuto: { autoFocus: true },
    jqAutoSource: $root.Selects.Mjesta,
    jqTerm: $root.dodajTerm,
    jqTermTablica: $root.dodajTermTablica,
    jqTablica: null,
    jqModul: 'Mjesta',
    jqAutoValue: IZR_IDT_Mjesto,
    jqAutoSourceLabel: 'Pojam',
    jqAutoSourceInputValue: 'Pojam',
    jqAutoSourceValue: 'IDT' " />
                   </div>


               </div>
               <div class="row">
                   <div class="col-xs-3">
                       <select id="tkomboPeriod" class="form-control" data-bind="options: $root.Vremena, optionsText: 'tekst', optionsValue: 'vrijednost', value: IZR_Period"></select>
                   </div>

                   <div class="col-xs-2">
                       <select id="tkomboVrijemeOpis" class="form-control" data-bind="options: $root.VrijemeOpis, value: IZR_Vrijeme_opis, optionsCaption: '...'"></select>
                   </div>

                   <div class="col-xs-5">
                       <input class="form-control" id="tinputVrijeme" data-bind="value: IZR_Vrijeme_vrijednost"/>
                   </div>

                   <div class="col-xs-2">
                       <select id="tkomboVrijemeJedinica" class="form-control" data-bind="options: $root.VrijemeJedinica, value: IZR_Vrijeme_jedinica, optionsCaption: '...'"></select>
                   </div>

               </div>
               <div class="row" data-bind="visible: IZR_Period">
                   <div class="col-xs-3">
                       <span>Vrijeme do:</span>
                   </div>

                   <div class="col-xs-2">
                       <select id="tkomboVrijemeOpis2" class="form-control" data-bind="options: $root.VrijemeOpis, value: IZR_Vrijeme_opis2, optionsCaption: '...'"></select>
                   </div>

                   <div class="col-xs-5">
                       <input class="form-control" id="tinputVrijeme2" data-bind="value: IZR_Vrijeme_vrijednost2"/>
                   </div>

                   <div class="col-xs-2">
                       <select id="tkomboVrijemeJedinica2" class="form-control" data-bind="options: $root.VrijemeJedinica, value: IZR_Vrijeme_jedinica2, optionsCaption: '...'"></select>
                   </div>

               </div>



    </script>
    <script type="text/html" id="smlMjere">

                <div class="row">
                        <div class="col-xs-3">
                            <select class="form-control" data-bind="options: $root.Selects.Dimenzije, optionsText: 'Pojam', optionsValue: 'IDT', value: MJR_IDT_Dimenzija, optionsCaption: 'Please select...'">
                            </select>

                        </div>
                        <div class="col-xs-3">
                            <input class="form-control" type="text" data-bind="value: MJR_Mjera" />

                        </div>
                        <div class="col-xs-2">
                            <select class="form-control" data-bind="options: $root.Selects.Jedinice, optionsText: 'Pojam', optionsValue: 'IDT', value: MJR_IDT_Jedinica_mjere, optionsCaption: 'Please select...'">
                            </select>
                        </div>
                        <div class="col-xs-4">
                            <select class="form-control" data-bind="options: $root.Selects.Dijelovi, optionsText: 'Pojam', optionsValue: 'IDT', value: MJR_IDT_Mjereni_dio, optionsCaption: 'Please select...'">
                            </select>
                        </div>


                    </div>
    </script>
    <script type="text/html" id="smlZbirka">

        <select class="form-control input-sm " data-bind="options: $root.Selects.Zbirke, optionsText: 'Pojam', optionsValue: 'IDT', value: zbIndex"></select>

    </script>
    
    @Html.AntiForgeryToken()

    <div id="applicationHost">
        @Html.Partial("_splash")
    </div>

    @Scripts.Render("~/scripts/vendor")
    <script src="~/Scripts/require.js" data-main="@Url.Content("~/App/main")"></script>	

    <script type="text/javascript">
        $(document).ready(function () {
            $('body').on('focusin', '.datarow', function () {
                $(this).addClass("selectedrow");
            });
            $('body').on('focusout', '.datarow', function () {
                $(this).removeClass("selectedrow");
            });
        });
    </script>

</body>
</html>
